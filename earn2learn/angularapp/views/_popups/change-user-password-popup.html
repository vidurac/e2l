<section class="panel-default pop-ups bg-white">
    <header class="panel-heading text-center">
        <strong class="text-uc">Change Password</strong>
    </header>
    <form class="panel-body wrapper-lg" name="changePasswordForm" id="changePasswordForm" ng-submit="changeUserPassword(password)" data-validate="parsley">
        <div class="form-group">
            <input type="password" id="currentPassword" name="currentPassword" ng-model="password.current_password" data-parsley-trigger="focusout" placeholder="Current password" class="form-control" data-required="true">
        </div>
        <div class="form-group">
            <span class="text-danger msg-error" ng-show="changePasswordForm.currentPassword.$error.required && changePasswordForm.currentPassword.$dirty">required</span>
        </div>
        <div class="form-group">
            <input type="password" id="inputPassword" name="inputPassword" ng-model="password.new_password" ng-minlength="6" ng-maxlength="20"  ng-pattern="/^(?=.{6,20}$)(?=.*[^a-zA-Z])/" data-parsley-trigger="focusout" placeholder="New Password" class="form-control" data-required="true">
        </div>
        <div class="form-group">
            <span class="text-danger msg-error" ng-show="changePasswordForm.inputPassword.$error.required && changePasswordForm.inputPassword.$dirty">Please enter new password</span>
            <!--<span class="text-danger msg-error" ng-show="!changePasswordForm.inputPassword.$error.required && (changePasswordForm.inputPassword.$error.minlength || changePasswordForm.inputPassword.$error.maxlength) && changePasswordForm.inputPassword.$dirty">Passwords must be between 6 and 20 characters.</span>-->
            <!--<span class="text-danger msg-error" ng-show="!changePasswordForm.inputPassword.$error.required && !changePasswordForm.inputPassword.$error.minlength && !changePasswordForm.inputPassword.$error.maxlength && changePasswordForm.inputPassword.$error.pattern && changePasswordForm.inputPassword.$dirty">Must contain at least one non-alpha character (a number or a symbol.)</span>-->
            <div class="text-danger msg-error" ng-show="changePasswordForm.inputPassword.$touched" ng-messages="changePasswordForm.inputPassword.$error" role="alert">
                <div ng-message="pattern">Password must be between 6 and 20 characters and must contain at least one non-alpha character</div>
            </div>
        </div>
        <div class="form-group">
            <input type="password" id="confirmPassword" name="confirmPassword" ng-model="password.confirm_password" ng-minlength="6" ng-maxlength="20" pw-check="inputPassword" ng-pattern="/(?=.*[^a-zA-Z])/" data-parsley-trigger="focusout" data-parsley-equalto="#inputPassword" placeholder="Confirm Password" class="form-control" data-required="true">
        </div>
        <div class="form-group">
            <span class="text-danger msg-error" ng-show="changePasswordForm.confirmPassword.$error.required && changePasswordForm.confirmPassword.$dirty">Please enter confirm password</span>
            <!--<span class="text-danger msg-error" ng-show="!changePasswordForm.confirmPassword.$error.required && (changePasswordForm.confirmPassword.$error.minlength || changePasswordForm.confirmPassword.$error.maxlength) && changePasswordForm.confirmPassword.$dirty">Passwords must be between 6 and 20 characters.</span>-->
            <!--<span class="text-danger msg-error" ng-show="!changePasswordForm.confirmPassword.$error.required && !changePasswordForm.confirmPassword.$error.minlength && !changePasswordForm.confirmPassword.$error.maxlength && changePasswordForm.confirmPassword.$error.pattern && changePasswordForm.confirmPassword.$dirty">Must contain at least one non-alpha character (a number or a symbol.)</span>-->
        </div>
        <div class="form-group">
            <div class="msg-block" ng-show="changePasswordForm.$error">
                <span class="text-danger msg-error" ng-show="changePasswordForm.confirmPassword.$error.pwmatch">
                Passwords don't match.
            </span>
        </div>
        <div class="line line-dashed"></div>
        <button type="submit" ng-disabled="changePasswordForm.$invalid || isChangePasswordWaiting" class="btn btn-primary"><span ng-show="isChangePasswordWaiting"><i class="fa fa-circle-o-notch fa-spin"></i></span> {{ changePasswordButtonText }}</button>
    </form>
</section>