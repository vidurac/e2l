<style type="text/css">
    .ngdialog.ngdialog-theme-default .ngdialog-content {
        max-width: 100%;
        width: 450px;
    }
</style>
<section class="panel-default pop-ups bg-white">
    <header class="panel-heading text-center">
        <strong class="text-uc">Create User</strong>
    </header>
    <form class="panel-body wrapper-lg" name="createUserForm" id="createUserForm" ng-submit="createUser(resources.newUser, true)" data-validate="parsley">
        <div class="form-group">
            <input type="text" placeholder="First Name" data-parsley-trigger="focusout" ng-model="resources.newUser.f_name" class="form-control input-lg" data-required="true" name="fname" ng-pattern="/^[A-Za-z ]+$/" required>
            <span class="required">*</span>
            <div class="text-danger msg-error" ng-show="createUserForm.fname.$touched" ng-messages="createUserForm.fname.$error" role="alert">
                <div ng-message="required">Please enter first name</div>
                <div ng-message="pattern">Invalid first name</div>
            </div>
        </div>
        <div class="form-group">
            <input type="text" placeholder="Last Name" data-parsley-trigger="focusout" ng-model="resources.newUser.l_name" class="form-control input-lg" data-required="true"  name="lname" ng-pattern="/^[A-Za-z ]+$/" required>
            <span class="required">*</span>
            <div class="text-danger msg-error" ng-show="createUserForm.lname.$touched" ng-messages="createUserForm.lname.$error" role="alert">
                <div ng-message="required">Please enter last name</div>
                <div ng-message="pattern">Invalid last name</div>
            </div>
        </div>
        <div class="form-group">
            <input type="email" placeholder="Email (test@example.com)" data-parsley-trigger="focusout" ng-model="resources.newUser.email" class="form-control input-lg" data-parsley-type="email" data-required="true" name="email" required ng-pattern="/^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.(([0-9]{1,3})|([a-zA-Z]{2,3})|(aero|coop|info|museum|name))$/">
            <span class="required">*</span>
            <div class="text-danger msg-error" ng-show="createUserForm.email.$touched" ng-messages="createUserForm.email.$error" role="alert">
                <div ng-message="pattern">Invalid email address</div>
                <div ng-message="email">Invalid email address</div>
            </div>
        </div>
        <div class="form-group">
            <input type="text" placeholder="Username" ng-model="resources.newUser.username" data-parsley-trigger="focusout" class="form-control input-lg" data-required="true" name="username" required>
            <span class="required">*</span>
            <div class="text-danger msg-error" ng-show="createUserForm.username.$touched" ng-messages="createUserForm.username.$error" role="alert">
                <div ng-message="required">Please enter username</div>
            </div>
        </div>
        <div class="form-group">
            <input type="password" id="inputPassword" name="inputPassword" ng-minlength="6" ng-maxlength="20" ng-pattern="/(?=.*[^a-zA-Z])/" ng-model="resources.newUser.password" data-parsley-trigger="focusout" placeholder="password" class="form-control input-lg" data-required="true" ng-pattern="/^(?=.{6,20}$)(?=.*[^a-zA-Z])/">
            <span class="required">*</span>
        </div>
        <div class="form-group">
            <span class="text-danger msg-error" ng-show="createUserForm.inputPassword.$error.required && createUserForm.inputPassword.$dirty">Please enter password</span>
            <!--<span class="text-danger msg-error" ng-show="!createUserForm.inputPassword.$error.required && (createUserForm.inputPassword.$error.minlength || createUserForm.inputPassword.$error.maxlength) && createUserForm.inputPassword.$dirty">Passwords must be between 6 and 20 characters.</span>-->
            <!--<span class="text-danger msg-error" ng-show="!createUserForm.inputPassword.$error.required && !createUserForm.inputPassword.$error.minlength && !createUserForm.inputPassword.$error.maxlength && createUserForm.inputPassword.$error.pattern && createUserForm.inputPassword.$dirty">Must contain at least one non-alpha character (a number or a symbol.)</span>-->
            <div class="text-danger msg-error" ng-show="createUserForm.inputPassword.$touched" ng-messages="createUserForm.inputPassword.$error" role="alert">
                <div ng-message="pattern">Password must be between 6 and 20 characters and must contain at least one non-alpha character</div>
            </div>
        </div>
        <div class="form-group">
            <span class="required">*</span>
            <input type="password" id="confirmPassword" name="confirmPassword" ng-minlength="6" ng-maxlength="20" ng-pattern="/(?=.*[^a-zA-Z])/" ng-model="resources.newUser.confirm_password" pw-check="inputPassword" data-parsley-trigger="focusout" data-parsley-equalto="#inputPassword" placeholder="Confirm Password" class="form-control input-lg" data-required="true">
        </div>
        <div class="form-group">
            <!--<span class="text-danger msg-error" ng-show="createUserForm.confirmPassword.$error.required && createUserForm.confirmPassword.$dirty">Please enter confirm password</span>-->
            <!--<span class="text-danger msg-error" ng-show="!createUserForm.confirmPassword.$error.required && (createUserForm.confirmPassword.$error.minlength || createUserForm.confirmPassword.$error.maxlength) && createUserForm.confirmPassword.$dirty">Passwords must be between 6 and 20 characters.</span>-->
            <!--<span class="text-danger msg-error" ng-show="!createUserForm.confirmPassword.$error.required && !createUserForm.confirmPassword.$error.minlength && !createUserForm.confirmPassword.$error.maxlength && createUserForm.confirmPassword.$error.pattern && createUserForm.confirmPassword.$dirty">Must contain at least one non-alpha character (a number or a symbol.)</span>-->
        </div>
        <div class="form-group">
            <div class="msg-block" ng-show="createUserForm.$error">
                <span class="text-danger msg-error" ng-show="createUserForm.confirmPassword.$error.pwmatch">
                    Passwords don't match.
                </span>
            </div>
        </div>
        <div class="line line-dashed"></div>
        <button type="submit" ng-disabled="createUserForm.$invalid" class="btn btn-primary"><span ng-show="isCreateWaiting"><i class="fa fa-circle-o-notch fa-spin"></i></span> {{ resources.createButtonText }}</button>
    </form>
</section>